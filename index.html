<!DOCTYPE html>

<html>

<head>

    <meta http-equiv="Content-Type" content="text/html" charset="utf-8" />

    <title>Babylon - Getting Started</title>

    <!--- link to the last version of babylon -->

    <script src="babylon.js"></script>

    <style>
        html,
        body {

            overflow: hidden;

            width: 100%;

            height: 100%;

            margin: 0;

            padding: 0;

        }



        #renderCanvas {

            width: 100%;

            height: 100%;

            touch-action: none;

        }
    </style>

</head>

<body>

    <canvas id="renderCanvas"></canvas>

    <script>

        var
            VRHelper;

        window.addEventListener('DOMContentLoaded',
            function () {
                var lineCollection ;
                var currentLine
                // get the canvas DOM element
                var canvas = document.getElementById('renderCanvas');
                var leftController, rightController;
                // load the 3D engine
                var engine = new BABYLON.Engine(canvas, true);
                // createScene function that creates and return the scene
                var createScene =
                        function () {
                            // create a basic BJS Scene object
                            var scene = new BABYLON.Scene(engine);
                            VRHelper = scene.createDefaultVRExperience();
                            VRHelper.onControllerMeshLoaded = (webVrController) => {
                                if (webVrController.hand === "left") {
                                    leftController=webVrController;
                                }else {
                                    rightController=webVrController;
                                }
                            }
                            return scene;

                        }



                // call the createScene function

                var
                    scene =
                        createScene();



                // run the render loop

                engine.runRenderLoop(function () {

                    var
                        test =
                            VRHelper.leftController;

                    console.log(test);

                    scene.render();

                });



                // the canvas/window resize event handler

                window.addEventListener('resize',
                    function () {

                        engine.resize();

                    });

            });

    </script>

</body>

</html>