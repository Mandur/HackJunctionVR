<!DOCTYPE html>

<html>

<head>

    <meta http-equiv="Content-Type" content="text/html" charset="utf-8" />
    <title>Babylon - Getting Started</title>
    <!--- link to the last version of babylon -->
    <script src="babylon.js"></script>
    <style>
        html,
        body {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }



        #renderCanvas {

            width: 100%;

            height: 100%;

            touch-action: none;

        }
    </style>

</head>

<body>

    <canvas id="renderCanvas"></canvas>

    <script>
        var lineCollection;
        var currentLine;
        var frameCounter = 0;
        var leftController, rightController;

        var canvas = document.querySelector('#renderCanvas')
        // load the 3D engine
        var engine = new BABYLON.Engine(canvas, true);
        // createScene function that creates and return the scene
        var createScene = function () {
            // create a basic BJS Scene object
            var scene = new BABYLON.Scene(engine);
            VRHelper = scene.createDefaultVRExperience();
            VRHelper.onControllerMeshLoaded = (webVrController) => {
                if (webVrController.hand === "left") {
                    console.log("left controller enabled");
                    leftController = webVrController;
                } else {
                    rightController = webVrController;
                }
            }

            scene.registerBeforeRender(function () {
                frameCounter++;
                if (frameCounter > 10) {
                    frameCounter = 0;
                    console.log(leftController)
                }
            });
            return scene;
        }


        createScene();


    </script>

</body>

</html>